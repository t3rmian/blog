<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="871px" preserveAspectRatio="none" style="width:463px;height:871px;" version="1.1" viewBox="0 0 463 871" width="463px" zoomAndPan="magnify"><defs><filter height="300%" id="fs6hpjoxpp96n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="145" cy="20" fill="#000000" filter="url(#fs6hpjoxpp96n)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="45.5" y="94"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="55.5" y="115.1387">Arrival of acceleration vector</text><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="198" x="46" y="147.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="178" x="56" y="169.1074">Calculation of vector module</text><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="107.5" y="201.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="117.5" y="223.0762">Filtration</text><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="79.5" y="255.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="89.5" y="277.0449">Sensitivity update</text><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="90" y="455.082"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="100" y="476.2207">Step detected</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="100" y="490.1895">step_count++</text><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="60" y="533.5352"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="70" y="554.6738">Save the detection time</text><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,406.6797,145,406.6797,157,418.6797,145,430.6797,145,430.6797,133,418.6797,145,406.6797" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="302" x="149" y="440.8901">[crossed the detection threshold from top to bottom]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="157" y="416.0854">[else]</text><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,587.5039,157,599.5039,145,611.5039,133,599.5039,145,587.5039" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="10" y="631.5039"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="20" y="652.6426">Save the detection threshold difference</text><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,358.2773,145,358.2773,157,370.2773,145,382.2773,145,382.2773,133,370.2773,145,358.2773" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="149" y="392.4878">[last step later than the time threshold]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="157" y="367.6831">[else]</text><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,685.4727,157,697.4727,145,709.4727,133,697.4727,145,685.4727" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,309.875,145,309.875,157,321.875,145,333.875,145,333.875,133,321.875,145,309.875" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="149" y="344.0854">[above sensitivity threshold]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="157" y="319.2808">[else]</text><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,729.4727,157,741.4727,145,753.4727,133,741.4727,145,729.4727" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,50,157,62,145,74,133,62,145,50" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fs6hpjoxpp96n)" points="145,773.4727,145,773.4727,157,785.4727,145,797.4727,145,797.4727,133,785.4727,145,773.4727" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="157" y="782.8784">[else]</text><ellipse cx="145" cy="849.8716" fill="#FFFFFF" filter="url(#fs6hpjoxpp96n)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="145" cy="849.8716" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="127.9688" y2="147.9688"/><polygon fill="#A80036" points="141,137.9688,145,147.9688,149,137.9688,145,141.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="181.9375" y2="201.9375"/><polygon fill="#A80036" points="141,191.9375,145,201.9375,149,191.9375,145,195.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="235.9063" y2="255.9063"/><polygon fill="#A80036" points="141,245.9063,145,255.9063,149,245.9063,145,249.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="503.0195" y2="533.5352"/><polygon fill="#A80036" points="141,523.5352,145,533.5352,149,523.5352,145,527.5352" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="430.6797" y2="455.082"/><polygon fill="#A80036" points="141,445.082,145,455.082,149,445.082,145,449.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157" x2="240" y1="418.6797" y2="418.6797"/><polygon fill="#A80036" points="236,503.5352,240,513.5352,244,503.5352,240,507.5352" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="240" x2="240" y1="418.6797" y2="599.5039"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="240" x2="157" y1="599.5039" y2="599.5039"/><polygon fill="#A80036" points="167,595.5039,157,599.5039,167,603.5039,163,599.5039" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="567.5039" y2="587.5039"/><polygon fill="#A80036" points="141,577.5039,145,587.5039,149,577.5039,145,581.5039" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="611.5039" y2="631.5039"/><polygon fill="#A80036" points="141,621.5039,145,631.5039,149,621.5039,145,625.5039" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="382.2773" y2="406.6797"/><polygon fill="#A80036" points="141,396.6797,145,406.6797,149,396.6797,145,400.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157" x2="290" y1="370.2773" y2="370.2773"/><polygon fill="#A80036" points="286,533.5352,290,543.5352,294,533.5352,290,537.5352" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="290" x2="290" y1="370.2773" y2="697.4727"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="290" x2="157" y1="697.4727" y2="697.4727"/><polygon fill="#A80036" points="167,693.4727,157,697.4727,167,701.4727,163,697.4727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="665.4727" y2="685.4727"/><polygon fill="#A80036" points="141,675.4727,145,685.4727,149,675.4727,145,679.4727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="333.875" y2="358.2773"/><polygon fill="#A80036" points="141,348.2773,145,358.2773,149,348.2773,145,352.2773" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157" x2="312" y1="321.875" y2="321.875"/><polygon fill="#A80036" points="308,533.5352,312,543.5352,316,533.5352,312,537.5352" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="312" x2="312" y1="321.875" y2="741.4727"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="312" x2="157" y1="741.4727" y2="741.4727"/><polygon fill="#A80036" points="167,737.4727,157,741.4727,167,745.4727,163,741.4727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="709.4727" y2="729.4727"/><polygon fill="#A80036" points="141,719.4727,145,729.4727,149,719.4727,145,723.4727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="289.875" y2="309.875"/><polygon fill="#A80036" points="141,299.875,145,309.875,149,299.875,145,303.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="74" y2="94"/><polygon fill="#A80036" points="141,84,145,94,149,84,145,88" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157" x2="336" y1="785.4727" y2="785.4727"/><polygon fill="#A80036" points="332,420.082,336,410.082,340,420.082,336,416.082" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="336" x2="336" y1="62" y2="785.4727"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="336" x2="157" y1="62" y2="62"/><polygon fill="#A80036" points="167,58,157,62,167,66,163,62" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="753.4727" y2="773.4727"/><polygon fill="#A80036" points="141,763.4727,145,773.4727,149,763.4727,145,767.4727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="30" y2="50"/><polygon fill="#A80036" points="141,40,145,50,149,40,145,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="145" y1="797.4727" y2="838.8716"/><polygon fill="#A80036" points="141,828.8716,145,838.8716,149,828.8716,145,832.8716" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="149" y="818.7773">[end]</text><!--
@startuml
start
repeat
:Arrival of acceleration vector;
:Calculation of vector module;
:Filtration;
:Sensitivity update;
if () then ([above sensitivity threshold])
    if () then ([last step later than the time threshold])
            if () then ([crossed the detection threshold from top to bottom])
                  :Step detected\n//step_count++//;
                  :Save the detection time;
            else ([else])
            endif
            :Save the detection threshold difference;
    else ([else])
    endif
else ([else])
endif
repeat while () is ([else])
 -> [end];
stop
@enduml

PlantUML version 1.2019.04(Fri Mar 29 15:44:36 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_201-heroku-b09
Operating System: Linux
OS Version: 4.4.0-1042-aws
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>